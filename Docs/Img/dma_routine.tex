\begin{figure}[!ht]
    \centering
    \begin{circuitikz}
        \draw
            ( 0, 0) node[draw, circle, align=center, minimum width=3cm](dreq){Wyzwolenie\\DMA}
            ( 4, 0) node[draw, circle, align=center, minimum width=3cm](time){Zapis\\czasu}
            ( 8, 0) node[draw, circle, align=center, minimum width=3cm](sample){Zapis\\danych}
            (12, 0) node[draw, circle, align=center, minimum width=3cm](end){Zdjęcie\\flagi\\,,\textit{DREQ}''}
        ;

        \draw[very thick, -Stealth] (dreq) -- (time);
        \draw[very thick, -Stealth] (time) -- (sample);
        \draw[very thick, -Stealth] (sample) -- (end);
    \end{circuitikz}
    \caption{Łańcuch wyzwoleń kanałów DMA}
    \label{fig:dma_routine}
\end{figure}